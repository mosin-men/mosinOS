# util.bjou
#
# basic utilites

module util

proc getref$T(val : T ref) : T ref
    return val

proc unref$T(val : T ref) : T
    return val

proc refcast$(T, U)(val : U ref) : T ref
    return @((&val) as T*)

proc ptrcast$T(ptr : void*) : T*
    return ptr as T*

proc ptr_to_u32(ptr : void*) : u32
    return ptr as u32

proc u32_to_ptr$T(u : u32) : T*
    return ptrcast$T(u as void*)
